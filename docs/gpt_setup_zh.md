# 🤖 定制 ChatGPT (Custom GPT) 配置说明书

本指南旨在帮助普通用户快速将自己的 ChatGPT 与 **GPT 智能记账系统** 连接。配置完成后，你可以直接在 ChatGPT 对话框中通过语音或文字记账，系统会自动同步到你的网页端后台。

---

## 🚀 准备工作

在开始之前，请确保你已经：
1. 拥有一个 **ChatGPT Plus** 账号（Custom GPT 功能目前对 Plus 用户开放）。
2. 已经登录并运行了你的 **GPT 智能记账系统**（网页端）。
3. 知道你的 **API 接口地址**（例如：`https://xxxx.supabase.co/functions/v1/gpt-api`）。

---

## 🛠️ 第一步：创建 Custom GPT

1. 登录 [ChatGPT](https://chat.openai.com/)。
2. 在左侧边栏点击 **"Explore GPTs"** (探索 GPT)。
3. 点击右上角的 **"+ Create"** (创建)。
4. 在编辑器顶部选择 **"Configure"** (配置) 标签页。
5. 设置基础信息：
   - **Name**: 智能记账小助手
   - **Description**: 你的个人记账管家，支持自然语言录入、查询和删除记录。
   - **Instructions (指令)**：*复制下面的文本填入*
     > 你是一个专门的“个人财务管家”。你将通过调用 API 帮助用户录入、修改、删除和查询记账记录。
     > 1. 解析用户的口语，提取：日期、项目名、金额、分类、备注。
     > 2. 始终使用用户指定的本位币。
     > 3. 如果信息不全，请友好地询问用户。

---

## 🔌 第二步：连接 API 接口 (Actions)

这是最关键的一步，它让 ChatGPT 具备操作你数据库的能力。

1. 在配置页面的最下方，点击 **"Create new action"** (创建新动作)。
2. 在 **"Schema"** 输入框中，点击 **"Import from URL"**。
3. 输入你的接口配置地址（在你的项目根目录下可以找到 `openapi_supabase.json`，或者直接手动复制文件内的代码粘贴进去）。
4. **重要设置**：
   - **Authentication (身份验证)**: 选择 **"None"** (无需验证)。
   - **Privacy Policy (隐私政策)**: 你可以暂时填写你的网站域名。

---

## 🔒 第三步：关联你的账号 (Metadata)

为了让 ChatGPT 知道你是谁，你需要告诉它你的电子邮箱（Email）。

1. 回到 GPT 的 **Instructions**。
2. 在末尾添加一行：
   > 我的记账邮箱是：`你的注册邮箱@example.com`

---

## ✅ 第四步：测试与保存

1. 在右侧的预览框里试着说一句：**“今天午饭花了 50 元”**。
2. ChatGPT 会弹出一个确认窗口，询问是否允许连接 API，请点击 **"Always allow"** (始终允许)。
3. 如果它回复 **“已成功记账！”**，说明配置成功！
4. 点击右上角的 **"Save"** (保存)，选择 **"Only me"** (仅限自己使用) 或分享给你的朋友。

---

## 💡 常用指令示例

配置成功后，你可以这样对它说：
- **记账**: “刚才便利店买烟花了 25”
- **查询**: “查一下我这周吃了多少钱”
- **修改**: “把刚才那笔 25 改成 23”
- **删除**: “删除上一条记录”

---

### 🆘 常见问题

- **报错 "Connect failed"**: 请检查你的 API 接口地址是否填写正确，以及你的服务器是否正在运行。
- **数据没同步**: 确认 Instructions 里的邮箱是否与网页端注册邮箱一致。

祝你记账愉快！💰
