# GTPinput
A lightweight, AI-first daily expense tracking system.

This project uses **GPT** for natural language input, **Cloudflare Worker** for a high-performance API, **D1 (SQLite)** for storage, and **Streamlit** for a beautiful, mobile-friendly dashboard.

**Current Architecture (v2.0)**: GPT â†’ Cloudflare Worker API â†’ D1 Database â†’ Streamlit

---

## âœ¨ Features

- **ğŸ—£ï¸ AI-Powered Entry**: Just say "Lunch $20", and GPT parses the amount, category, and date.
- **âš¡ Fast API**: Built on Cloudflare Workers and D1 SQLite for low latency.
- **ğŸ“± Mobile-First Dashboard**:
    - **KPIs**: Real-time tracking of Monthly, Yearly, and Filtered expenses.
    - **Visualizations**: Monthly Bar Charts and Category Pie Charts.
    - **Interactive Table**: Edit or Delete records directly from the UI.
- **ğŸ›¡ï¸ Data Management**:
    - **Edit**: Inline editing of expense details.
    - **Delete**: Batch delete via checkbox selection.
    - **Clear All**: dedicated "Danger Zone" to securely wipe all data.

---

## ğŸ§  Architecture Overview

```mermaid
graph LR
    GPT[Custom GPT] -->|POST| API[Cloudflare Worker]
    API <-->|SQL| DB[(D1 Database)]
    User[Streamlit App] <-->|JSON| API
```

---

## ğŸ› ï¸ API Endpoints (Worker)

Powered by Cloudflare Workers. Requires `X-API-Key` header.

- `POST /add`: Add a new expense record.
- `GET /list`: Retrieve all expense records.
- `POST /update`: Modifiy an existing record.
- `POST /delete`: Remove a specific record by ID.
- `POST /clear`: Delete ALL records (Requires confirmation).

---

## ğŸ“Š Streamlit App

The frontend is built with Streamlit for simplicity and interactivity.

### Key Sections:
1.  **Filters**: Sidebar filters for Month and Category.
2.  **Metrics**: Instant view of your financial health.
3.  **Charts**:
    - **Monthly Trend (Bar Chart)**: Compare spending across months easily.
    - **Category Distribution (Pie Chart)**: See where your money goes.
4.  **Management**:
    - **One-click Delete**: Check the `ğŸ—‘ï¸` icon and confirm to delete.
    - **Inline Edit**:Modify any field and save.

### Local Development:
1.  Install dependencies: `pip install streamlit pandas plotly requests`
2.  Configure secrets in `.streamlit/secrets.toml`:
    ```toml
    [general]
    API_URL = "https://your-worker-url"
    API_KEY = "your-api-key"
    ```
3.  Run: `streamlit run app.py`

---

## ğŸ”® Future Roadmap

- [ ] Budgeting limits and alerts.
- [ ] Export data to CSV/Excel.
- [ ] Multi-user support.
